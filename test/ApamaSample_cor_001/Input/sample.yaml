connectivityPlugins:
  classifierCodec:
    libraryName: ClassifierCodec
    class: ClassifierCodec
  rustTransport:
    directory: ${PARENT_DIR}/Release
    libraryName: echo_transport
    class: RustTransport
  stringCodec:
    libraryName: connectivity-string-codec
    class: StringCodec
  diag:
    libraryName: DiagnosticCodec
    class: DiagnosticCodec

startChains:
  rustTransport:
    # Use the Map host plugin, so the payload type will be a map<string,data>
    # with the keys being the name of the fields in the event
    - apama.eventMap:
        # Capture events to this channel ...
        subscribeChannels:
          - fromhost
        # ... and send them back to this channel
        defaultChannel: intohost


    - diag: { tag: rusttransport }
    - rustTransport:
        k1: "v1"
        k2:
          - "l1"
          - "l2"

